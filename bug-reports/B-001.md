# Bug Report: B-001

## Basic Information

| Field | Value |
|-------|-------|
| **Bug ID** | B-001 |
| **Test Case Reference** | TC-REG-005 |
| **Title** | Site allows emails without domain and does not display validation error message |
| **Severity** | High |
| **Priority** | High |
| **Status** | Open |
| **Reported Date** | 2025-11-23 |
| **Component** | Registration Page - Email Validation |
| **Environment** | Production (https://practicesoftwaretesting.com) |

## Description

The registration form accepts email addresses without a proper domain (e.g., `test.user@test`) and proceeds with registration without displaying any validation error message. According to TC-REG-005, the system should reject such invalid email formats and display a validation error message.

## Test Case Reference

**TC-REG-005**: Attempt registration with invalid email format (no domain)

### Steps to Reproduce

1. Navigate to the registration page: `https://practicesoftwaretesting.com/auth/register`
2. Fill in all required fields with valid data:
   - First Name: `John`
   - Last Name: `Doe`
   - Date of Birth: `1990-01-01`
   - Street Address: `123 Main St`
   - Postal Code: `12345`
   - City: `Vienna`
   - State: `Vienna`
   - Country: `Austria`
   - Phone: `1234567890`
   - Password: `ValidPass123!` (meets all requirements)
3. In the Email field, enter an email address without a proper domain: `test.user@test`
4. Click the "Register" button

### Expected Result

1. Registration should **fail**
2. A validation error message should be displayed (e.g., "Please enter a valid email address")
3. The error message should appear under or near the Email field
4. The user should remain on the registration page

### Actual Result

1. Registration is **accepted** (or form submission proceeds)
2. **No validation error message** is displayed
3. The system processes the invalid email format without proper validation

## Impact

- **Security Risk**: Invalid email addresses cannot receive important communications (password resets, account confirmations)
- **Data Quality**: Allows creation of user accounts with invalid email addresses
- **User Experience**: Users may successfully register but will not be able to receive email notifications or reset their passwords
- **Compliance**: May violate email validation best practices and standards

## Technical Details

### Test Implementation

The automated test expects the email error locator to be visible:
```typescript
test('TC-REG-005 - invalid email without domain shows validation error', async () => {
  await fillWithBaselineValidData(registrationPage, { email: 'test.user@test' })
  await registrationPage.submit()
  await expect(registrationPage.emailError).toBeVisible()  // This assertion fails
})
```

### Error Locator

The test expects an error message to appear at: `[data-test="email-error"]`

### Browser/Environment

- **Tested Browsers**: Chromium, Firefox, WebKit
- **Base URL**: https://practicesoftwaretesting.com
- **Test Framework**: Playwright


## Steps to Verify Fix

1. Enter email: `test.user@test`
2. Verify error message appears: `[data-test="email-error"]` is visible
3. Verify error message text contains indication of invalid email format
4. Verify form submission is prevented
5. Verify user remains on registration page
6. Test with other invalid formats: `user@`, `@domain.com`, `user.domain.com`

## Attachments

- Automated test file: `tests/registration.spec.ts` (lines 68-73)
- Test case documentation: `test-documentation/RegistrationTestCases.md` (TC-REG-005)
- Page Object: `pages/RegistrationPage.ts`

## Related Issues

- Test Case: TC-REG-005
- Similar validation: TC-REG-004 (email without "@")

